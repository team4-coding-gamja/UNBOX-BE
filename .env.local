# =============================================================================
# 로컬 개발 환경 설정 (Local Development Environment)
# 개발자 로컬 머신에서 실행할 때 사용
# =============================================================================

# Spring Profile
SPRING_PROFILES_ACTIVE=local

# =============================================================================
# 데이터베이스 설정 (로컬 PostgreSQL 또는 H2)
# =============================================================================
# Option 1: 로컬 PostgreSQL (Docker Compose 사용)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=unboxdb_local
DB_USERNAME=unbox_local
DB_PASSWORD=local_password_123

# Option 2: H2 인메모리 DB (빠른 개발용)
# DB_HOST=mem
# DB_PORT=
# DB_NAME=testdb
# DB_USERNAME=sa
# DB_PASSWORD=

# Connection Pool 설정 (로컬용 - 작은 풀)
DB_HIKARI_MAXIMUM_POOL_SIZE=3
DB_HIKARI_MINIMUM_IDLE=1
DB_HIKARI_CONNECTION_TIMEOUT=20000

# =============================================================================
# Redis 설정 (로컬 Redis)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_TIMEOUT=5000
REDIS_LETTUCE_POOL_MAX_ACTIVE=2
REDIS_LETTUCE_POOL_MAX_IDLE=2
REDIS_LETTUCE_POOL_MIN_IDLE=0

# =============================================================================
# JWT 보안 설정 (로컬용 - 개발 편의성)
# =============================================================================
JWT_SECRET=unbox-local-jwt-secret-key-for-development-only-do-not-use-in-production
JWT_ACCESS_TOKEN_EXPIRATION=86400000   # 24시간 (개발 편의성)
JWT_REFRESH_TOKEN_EXPIRATION=604800000 # 7일

# =============================================================================
# 서버 설정
# =============================================================================
SERVER_PORT=8080
SERVER_SERVLET_CONTEXT_PATH=/api

# =============================================================================
# 로깅 설정 (로컬용 - 상세 로그)
# =============================================================================
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_EXAMPLE_UNBOX_BE=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY=DEBUG
LOGGING_LEVEL_ORG_HIBERNATE_SQL=DEBUG
LOGGING_LEVEL_ORG_HIBERNATE_TYPE_DESCRIPTOR_SQL=TRACE

# 콘솔 로그 컬러 활성화
SPRING_OUTPUT_ANSI_ENABLED=always

# =============================================================================
# 외부 API 설정 (로컬용 - 테스트 키)
# =============================================================================
# 주의: 실제 API 키는 별도 파일에서 관리하거나 환경변수로 설정
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7

# =============================================================================
# CORS 설정 (로컬용 - 관대한 설정)
# =============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000
CORS_ALLOWED_METHODS=*
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# 모니터링 및 액추에이터 (로컬용 - 모든 엔드포인트 활성화)
# =============================================================================
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=*
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=false

# =============================================================================
# 파일 업로드 설정
# =============================================================================
SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=5MB
SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE=5MB

# =============================================================================
# 로컬 개발 편의 설정
# =============================================================================
# H2 Console (H2 DB 사용 시)
SPRING_H2_CONSOLE_ENABLED=true
SPRING_H2_CONSOLE_PATH=/h2-console

# JPA 설정 (개발용)
SPRING_JPA_SHOW_SQL=true
SPRING_JPA_HIBERNATE_DDL_AUTO=create-drop
SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL=true

# 개발 도구 활성화
SPRING_DEVTOOLS_RESTART_ENABLED=true
SPRING_DEVTOOLS_LIVERELOAD_ENABLED=true

# =============================================================================
# 로컬 파일 저장 설정
# =============================================================================
# AWS S3 대신 로컬 파일 시스템 사용
FILE_UPLOAD_PATH=./uploads
FILE_UPLOAD_MAX_SIZE=10MB

# =============================================================================
# 테스트 데이터 설정
# =============================================================================
# 초기 데이터 로딩
SPRING_SQL_INIT_MODE=always
SPRING_SQL_INIT_DATA_LOCATIONS=classpath:data-local.sql

# 테스트용 사용자 계정
TEST_ADMIN_EMAIL=admin@unbox.local
TEST_ADMIN_PASSWORD=admin123!
TEST_USER_EMAIL=user@unbox.local
TEST_USER_PASSWORD=user123!