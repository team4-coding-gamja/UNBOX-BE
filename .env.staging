# =============================================================================
# 스테이징 환경 설정 (Staging Environment)
# 운영과 유사한 환경, 최종 테스트용
# =============================================================================

# Spring Profile
SPRING_PROFILES_ACTIVE=staging

# =============================================================================
# 데이터베이스 설정 (AWS RDS PostgreSQL - 스테이징용)
# =============================================================================
DB_HOST=unbox-staging-rds.cluster-xxx.ap-northeast-2.rds.amazonaws.com
DB_PORT=5432
DB_NAME=unboxdb_staging
DB_USERNAME=unbox_staging_user
# DB_PASSWORD는 런타임에 AWS Secrets Manager에서 가져옴
DB_PASSWORD_SECRET_NAME=/unbox/staging/db-password

# Connection Pool 설정 (스테이징용 - 중간 크기)
DB_HIKARI_MAXIMUM_POOL_SIZE=10
DB_HIKARI_MINIMUM_IDLE=5
DB_HIKARI_CONNECTION_TIMEOUT=30000

# =============================================================================
# Redis 설정 (AWS ElastiCache - 스테이징용)
# =============================================================================
REDIS_HOST=unbox-staging-redis.xxx.cache.amazonaws.com
REDIS_PORT=6379
REDIS_TIMEOUT=3000
REDIS_LETTUCE_POOL_MAX_ACTIVE=8
REDIS_LETTUCE_POOL_MAX_IDLE=8
REDIS_LETTUCE_POOL_MIN_IDLE=2

# =============================================================================
# JWT 보안 설정 (스테이징용 - 운영과 유사)
# =============================================================================
JWT_SECRET_SECRET_NAME=/unbox/staging/jwt-secret
JWT_ACCESS_TOKEN_EXPIRATION=3600000    # 1시간
JWT_REFRESH_TOKEN_EXPIRATION=86400000  # 24시간

# =============================================================================
# 서버 설정
# =============================================================================
SERVER_PORT=8080
SERVER_SERVLET_CONTEXT_PATH=/api

# =============================================================================
# 로깅 설정 (스테이징용 - 적당한 로그)
# =============================================================================
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_EXAMPLE_UNBOX_BE=INFO
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY=WARN
LOGGING_LEVEL_ORG_HIBERNATE_SQL=WARN

# =============================================================================
# 외부 API 설정 (스테이징용 - 운영과 동일)
# =============================================================================
OPENAI_API_KEY_SECRET_NAME=/unbox/staging/openai-key
OPENAI_MODEL=gpt-4o-mini
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.5

# =============================================================================
# CORS 설정 (스테이징용 - 제한적)
# =============================================================================
CORS_ALLOWED_ORIGINS=https://staging.unbox.com,https://staging-admin.unbox.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH
CORS_ALLOWED_HEADERS=Authorization,Content-Type,X-Requested-With
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# 모니터링 및 액추에이터 (스테이징용 - 선택적 활성화)
# =============================================================================
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when-authorized
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# =============================================================================
# 파일 업로드 설정
# =============================================================================
SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=20MB
SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE=20MB

# =============================================================================
# AWS 설정 (스테이징용)
# =============================================================================
AWS_REGION=ap-northeast-2
AWS_S3_BUCKET_NAME=unbox-staging-storage
AWS_CLOUDFRONT_DOMAIN=staging-cdn.unbox.com

# =============================================================================
# 보안 설정 (스테이징용)
# =============================================================================
# JPA 설정 (운영과 동일)
SPRING_JPA_SHOW_SQL=false
SPRING_JPA_HIBERNATE_DDL_AUTO=validate

# SSL 설정
SERVER_SSL_ENABLED=true
SERVER_SSL_KEY_STORE_TYPE=PKCS12